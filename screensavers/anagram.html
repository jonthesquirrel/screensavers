<!DOCTYPE html>
<!-- Copyright (c) 2014 Jonathan Herman - MIT License -->
<!-- https://github.com/jdh11235/screensavers -->

<html lang="en">
	<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

	<title>anagram - screensaver</title>

<style>

	body {
		font-family: sans-serif;
	}

	.middle {
		position: fixed;
		bottom: 50%;
		text-align: center;
		left: 50%;
		transform: translateX(-50%);
	}

</style>
</head>
<body>

	<div id="splashscreen" class="middle">
		<input type="text" id="wordbox" placeholder="type a word">
		<button id="activatebutton">Anagram</button>
	</div>

<script>
window.addEventListener('load', function () { 'use strict';

	String.prototype.randomAnagram = function () {
		return this.split('').sort(function () {
			return 0.5 - Math.random();
		}).join('');
	}

	//elements

	var $wordbox = document.getElementById('wordbox');
	var $activatebutton = document.getElementById('activatebutton');
	var $splashscreen = document.getElementById('splashscreen');

	//placeholders

	var word;

	//animation

	var animate = function () {
		//TODO
		console.log(word.randomAnagram());
	};

	var loopAnimate = function () {
		//respond instantly instead of initial delay
		animate();
		setInterval(animate, 500);
	};

	//UI

	var removeSplash = function () {
		$splashscreen.parentNode.removeChild($splashscreen);
	};

	//activate

	var activate = function () {
		if ($wordbox.value) {
			word = $wordbox.value;
			removeSplash();
			loopAnimate();
		}
	};

	$wordbox.addEventListener('keydown', function (event) {
		//the Enter key
		if (event.keyCode === 13) {
			activate();
		}
	});

	$activatebutton.addEventListener('click', activate);

});
</script>
</body>
</html>
